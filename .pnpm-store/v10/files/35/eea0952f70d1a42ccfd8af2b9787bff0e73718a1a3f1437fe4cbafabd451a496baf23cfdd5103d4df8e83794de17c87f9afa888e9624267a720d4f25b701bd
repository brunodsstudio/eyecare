var M=Object.create;var v=Object.defineProperty;var V=Object.getOwnPropertyDescriptor;var q=Object.getOwnPropertyNames;var B=Object.getPrototypeOf,U=Object.prototype.hasOwnProperty;var K=(e,t)=>{for(var r in t)v(e,r,{get:t[r],enumerable:!0})},I=(e,t,r,a)=>{if(t&&typeof t=="object"||typeof t=="function")for(let o of q(t))!U.call(e,o)&&o!==r&&v(e,o,{get:()=>t[o],enumerable:!(a=V(t,o))||a.enumerable});return e};var k=(e,t,r)=>(r=e!=null?M(B(e)):{},I(t||!e||!e.__esModule?v(r,"default",{value:e,enumerable:!0}):r,e)),R=e=>I(v({},"__esModule",{value:!0}),e);var Y={};K(Y,{Head:()=>H,Link:()=>_,createInertiaApp:()=>x,router:()=>L.router,useForm:()=>P,usePage:()=>D});module.exports=R(Y);var L=require("@inertiajs/core");var y=require("@inertiajs/core"),g=require("vue");var C=require("@inertiajs/core"),$={created(){if(!this.$options.remember||this.$isServer)return;Array.isArray(this.$options.remember)&&(this.$options.remember={data:this.$options.remember}),typeof this.$options.remember=="string"&&(this.$options.remember={data:[this.$options.remember]}),typeof this.$options.remember.data=="string"&&(this.$options.remember={data:[this.$options.remember.data]});let e=this.$options.remember.key instanceof Function?this.$options.remember.key.call(this):this.$options.remember.key,t=C.router.restore(e),r=this.$options.remember.data.filter(o=>!(this[o]!==null&&typeof this[o]=="object"&&this[o].__rememberable===!1)),a=o=>this[o]!==null&&typeof this[o]=="object"&&typeof this[o].__remember=="function"&&typeof this[o].__restore=="function";r.forEach(o=>{this[o]!==void 0&&t!==void 0&&t[o]!==void 0&&(a(o)?this[o].__restore(t[o]):this[o]=t[o]),this.$watch(o,()=>{C.router.remember(r.reduce((p,c)=>({...p,[c]:a(c)?this[c].__remember():this[c]}),{}),e)},{immediate:!0,deep:!0})})}};var T=require("@inertiajs/core"),d=k(require("lodash.clonedeep"),1),A=k(require("lodash.isequal"),1),S=require("vue");function P(...e){let t=typeof e[0]=="string"?e[0]:null,r=(typeof e[0]=="string"?e[1]:e[0])||{},a=t?T.router.restore(t):null,o=typeof r=="object"?(0,d.default)(r):(0,d.default)(r()),p=null,c=null,f=s=>s,u=(0,S.reactive)({...a?a.data:(0,d.default)(o),isDirty:!1,errors:a?a.errors:{},hasErrors:!1,processing:!1,progress:null,wasSuccessful:!1,recentlySuccessful:!1,data(){return Object.keys(o).reduce((s,n)=>(s[n]=this[n],s),{})},transform(s){return f=s,this},defaults(s,n){if(typeof r=="function")throw new Error("You cannot call `defaults()` when using a function to define your form data.");return typeof s>"u"?(o=this.data(),this.isDirty=!1):o=Object.assign({},(0,d.default)(o),n?{[s]:n}:s),this},reset(...s){let n=typeof r=="object"?(0,d.default)(o):(0,d.default)(r()),i=(0,d.default)(n);return s.length===0?(o=i,Object.assign(this,n)):Object.keys(n).filter(m=>s.includes(m)).forEach(m=>{o[m]=i[m],this[m]=n[m]}),this},setError(s,n){return Object.assign(this.errors,n?{[s]:n}:s),this.hasErrors=Object.keys(this.errors).length>0,this},clearErrors(...s){return this.errors=Object.keys(this.errors).reduce((n,i)=>({...n,...s.length>0&&!s.includes(i)?{[i]:this.errors[i]}:{}}),{}),this.hasErrors=Object.keys(this.errors).length>0,this},submit(s,n,i={}){let m=f(this.data()),h={...i,onCancelToken:l=>{if(p=l,i.onCancelToken)return i.onCancelToken(l)},onBefore:l=>{if(this.wasSuccessful=!1,this.recentlySuccessful=!1,clearTimeout(c),i.onBefore)return i.onBefore(l)},onStart:l=>{if(this.processing=!0,i.onStart)return i.onStart(l)},onProgress:l=>{if(this.progress=l,i.onProgress)return i.onProgress(l)},onSuccess:async l=>{this.processing=!1,this.progress=null,this.clearErrors(),this.wasSuccessful=!0,this.recentlySuccessful=!0,c=setTimeout(()=>this.recentlySuccessful=!1,2e3);let N=i.onSuccess?await i.onSuccess(l):null;return o=(0,d.default)(this.data()),this.isDirty=!1,N},onError:l=>{if(this.processing=!1,this.progress=null,this.clearErrors().setError(l),i.onError)return i.onError(l)},onCancel:()=>{if(this.processing=!1,this.progress=null,i.onCancel)return i.onCancel()},onFinish:l=>{if(this.processing=!1,this.progress=null,p=null,i.onFinish)return i.onFinish(l)}};s==="delete"?T.router.delete(n,{...h,data:m}):T.router[s](n,m,h)},get(s,n){this.submit("get",s,n)},post(s,n){this.submit("post",s,n)},put(s,n){this.submit("put",s,n)},patch(s,n){this.submit("patch",s,n)},delete(s,n){this.submit("delete",s,n)},cancel(){p&&p.cancel()},__rememberable:t===null,__remember(){return{data:this.data(),errors:this.errors}},__restore(s){Object.assign(this,s.data),this.setError(s.errors)}});return(0,S.watch)(u,s=>{u.isDirty=!(0,A.default)(u.data(),o),t&&T.router.remember((0,d.default)(s.__remember()),t)},{immediate:!0,deep:!0}),u}var b={},O=null,J={name:"Inertia",props:{initialPage:{type:Object,required:!0},initialComponent:{type:[Object,Function,String],required:!1},resolveComponent:{type:Function,required:!1},titleCallback:{type:Function,required:!1,default:e=>e},onHeadUpdate:{type:Function,required:!1,default:()=>()=>{}}},data(){return{component:this.initialComponent||null,page:this.initialPage,key:null}},created(){b=this,O=(0,y.createHeadManager)(this.$isServer,this.titleCallback,this.onHeadUpdate),this.$isServer||(y.router.init({initialPage:this.initialPage,resolveComponent:this.resolveComponent,swapComponent:async({component:e,page:t,preserveState:r})=>{this.component=e,this.page=t,this.key=r?this.key:Date.now()}}),y.router.on("navigate",()=>O.forceUpdate()))},render(e){if(this.component){let t=e(this.component,{key:this.key,props:this.page.props,scopedSlots:this.$scopedSlots});return this.component.layout?typeof this.component.layout=="function"?this.component.layout(e,t):Array.isArray(this.component.layout)?this.component.layout.concat(t).reverse().reduce((r,a)=>e(a,{props:this.page.props},[r])):e(this.component.layout,{props:this.page.props},[t]):t}}},j=J,E={install(e){y.router.form=P,e.mixin($),e.mixin({beforeCreate(){Object.defineProperty(this,"$headManager",{get:function(){return O}}),Object.defineProperty(this,"$inertia",{get:function(){return y.router}}),Object.defineProperty(this,"$page",{get:function(){return b.page}})}})}};function D(){return(0,g.reactive)({props:(0,g.computed)(()=>b.page.props),url:(0,g.computed)(()=>b.page.url),component:(0,g.computed)(()=>b.page.component),version:(0,g.computed)(()=>b.page.version)})}var w=require("@inertiajs/core");async function x({id:e="app",resolve:t,setup:r,title:a,progress:o={},page:p,render:c}){let f=typeof window>"u",u=f?null:document.getElementById(e),s=p||JSON.parse(u.dataset.page),n=h=>Promise.resolve(t(h)).then(l=>l.default||l),i=[],m=await n(s.component).then(h=>r({el:u,App:j,props:{attrs:{id:e,"data-page":JSON.stringify(s)},props:{initialPage:s,initialComponent:h,resolveComponent:n,titleCallback:a,onHeadUpdate:f?l=>i=l:null}},plugin:E}));if(!f&&o&&(0,w.setupProgress)(o),f)return c(m).then(h=>({head:i,body:h}))}var W={props:{title:{type:String,required:!1}},data(){return{provider:this.$headManager.createProvider()}},beforeDestroy(){this.provider.disconnect()},methods:{isUnaryTag(e){return["area","base","br","col","embed","hr","img","input","keygen","link","meta","param","source","track","wbr"].indexOf(e.tag)>-1},renderTagStart(e){this.ensureNodeHasAttrs(e);let t=Object.keys(e.data.attrs).reduce((r,a)=>{let o=e.data.attrs[a];return a==="head-key"?r:o===""?r+` ${a}`:r+` ${a}="${o}"`},"");return`<${e.tag}${t}>`},renderTagChildren(e){return e.children.reduce((t,r)=>t+this.renderTag(r),"")},renderTag(e){if(!e.tag)return e.text;let t=this.renderTagStart(e);return e.children&&(t+=this.renderTagChildren(e)),this.isUnaryTag(e)||(t+=`</${e.tag}>`),t},ensureNodeHasAttrs(e){e.data={...e.data||{},attrs:{...(e.data||{}).attrs||{}}}},ensureNodeHasInertiaAttribute(e){return this.ensureNodeHasAttrs(e),e.data.attrs.inertia=e.data.attrs["head-key"]!==void 0?e.data.attrs["head-key"]:"",e},renderNode(e){return this.ensureNodeHasInertiaAttribute(e),this.renderTag(e)},renderNodes(e){let t=e.map(r=>this.renderNode(r)).filter(r=>r);return this.title&&!t.find(r=>r.startsWith("<title"))&&t.push(`<title inertia>${this.title}</title>`),t}},render(){this.provider.update(this.renderNodes(this.$scopedSlots.default?this.$scopedSlots.default():[]))}},H=W;var F=require("@inertiajs/core"),Q={functional:!0,props:{as:{type:String,default:"a"},data:{type:Object,default:()=>({})},href:{type:String},method:{type:String,default:"get"},replace:{type:Boolean,default:!1},preserveScroll:{type:Boolean,default:!1},preserveState:{type:Boolean,default:null},only:{type:Array,default:()=>[]},except:{type:Array,default:()=>[]},headers:{type:Object,default:()=>({})},queryStringArrayFormat:{type:String,default:"brackets"}},render(e,{props:t,data:r,children:a}){r.on={click:()=>({}),cancelToken:()=>({}),start:()=>({}),progress:()=>({}),finish:()=>({}),cancel:()=>({}),success:()=>({}),error:()=>({}),...r.on||{}};let o=t.as.toLowerCase(),p=t.method.toLowerCase(),[c,f]=(0,F.mergeDataIntoQueryString)(p,t.href||"",t.data,t.queryStringArrayFormat);return o==="a"&&p!=="get"&&console.warn(`Creating POST/PUT/PATCH/DELETE <a> links is discouraged as it causes "Open Link in New Tab/Window" accessibility issues.

Please specify a more appropriate element using the "as" attribute. For example:

<Link href="${c}" method="${p}" as="button">...</Link>`),e(t.as,{...r,attrs:{...r.attrs,...o==="a"?{href:c}:{}},on:{...r.on,click:u=>{r.on.click(u),(0,F.shouldIntercept)(u)&&(u.preventDefault(),F.router.visit(c,{data:f,method:p,replace:t.replace,preserveScroll:t.preserveScroll,preserveState:t.preserveState??p!=="get",only:t.only,except:t.except,headers:t.headers,onCancelToken:r.on.cancelToken,onBefore:r.on.before,onStart:r.on.start,onProgress:r.on.progress,onFinish:r.on.finish,onCancel:r.on.cancel,onSuccess:r.on.success,onError:r.on.error}))}}},a)}},_=Q;
//# sourceMappingURL=index.js.map
